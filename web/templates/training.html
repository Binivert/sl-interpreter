<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLIS - Training Mode</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/theme.css">
    <link rel="stylesheet" href="/static/css/components.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
</head>
<body class="theme-cyberpunk">
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-brand">
                <span class="brand-icon">◈</span>
                <span class="brand-name">SLIS</span>
            </div>
            <nav class="header-nav">
                <a href="/" class="nav-link">Live</a>
                <a href="/training" class="nav-link active">Train</a>
                <a href="/settings" class="nav-link">Settings</a>
            </nav>
            <div class="header-status">
                <span class="status-indicator status-training"></span>
                <span class="status-text">Training Mode</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content training-layout">
            <!-- Capture Section -->
            <section class="capture-section">
                <div class="camera-container">
                    <video id="camera-feed" autoplay playsinline></video>
                    <canvas id="landmark-overlay"></canvas>
                    <div class="pose-guide" id="pose-guide">
                        <div class="guide-text">Position your hands in the frame</div>
                    </div>
                </div>

                <!-- Captured Samples -->
                <div class="samples-preview">
                    <h3>Captured Samples</h3>
                    <div class="samples-grid" id="samples-grid">
                        <!-- Sample thumbnails will be added here -->
                    </div>
                </div>
            </section>

            <!-- Training Panel -->
            <aside class="training-panel">
                <div class="panel-section">
                    <h2 class="panel-title">New Sign</h2>
                    
                    <div class="form-group">
                        <label for="sign-name-input">Sign Name</label>
                        <input type="text" id="sign-name-input" class="form-input" placeholder="e.g., Hello">
                    </div>
                    
                    <div class="form-group">
                        <label for="sign-category">Category</label>
                        <select id="sign-category" class="form-select">
                            <option value="greetings">Greetings</option>
                            <option value="common">Common Words</option>
                            <option value="questions">Questions</option>
                            <option value="emotions">Emotions</option>
                            <option value="custom">Custom</option>
                        </select>
                    </div>

                    <div class="capture-progress">
                        <div class="progress-label">
                            <span>Samples:</span>
                            <span id="sample-count">0/10</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="capture-progress" style="width: 0%"></div>
                        </div>
                    </div>

                    <button id="btn-capture" class="btn btn-primary btn-large">
                        <span class="icon">●</span>
                        <span>Capture (Space)</span>
                    </button>

                    <div class="button-group">
                        <button id="btn-train" class="btn btn-success" disabled>
                            Train Model
                        </button>
                        <button id="btn-clear" class="btn btn-secondary">
                            Clear All
                        </button>
                    </div>
                </div>

                <!-- Training Progress -->
                <div class="panel-section" id="training-progress-section" style="display: none;">
                    <h2 class="panel-title">Training Progress</h2>
                    <div class="training-status">
                        <div class="status-icon" id="training-icon">⏳</div>
                        <div class="status-message" id="training-message">Preparing data...</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="training-progress" style="width: 0%"></div>
                    </div>
                    <div class="training-metrics" id="training-metrics" style="display: none;">
                        <div class="metric">
                            <span class="metric-label">Accuracy:</span>
                            <span class="metric-value" id="metric-accuracy">—</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Loss:</span>
                            <span class="metric-value" id="metric-loss">—</span>
                        </div>
                    </div>
                </div>

                <!-- Existing Signs -->
                <div class="panel-section">
                    <h2 class="panel-title">Existing Signs</h2>
                    <input type="text" id="sign-search" class="form-input" placeholder="Search signs...">
                    <div class="signs-grid" id="signs-grid">
                        <!-- Sign cards will be added here -->
                    </div>
                </div>
            </aside>
        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-item">
                <span class="status-label">Total Signs:</span>
                <span class="status-value" id="total-signs">0</span>
            </div>
            <div class="status-item">
                <span class="status-label">Model:</span>
                <span class="status-value" id="status-model">Custom</span>
            </div>
        </footer>
    </div>

    <script src="/static/js/training.js" type="module"></script>
</body>
</html>
